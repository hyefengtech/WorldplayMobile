<!DOCTYPE html>
<html lang="ko" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>월드플레이 - 인터랙티브 스토리게임 플랫폼 | S의 박물관</title>
    <link rel="stylesheet" href="style.css">
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Noto+Serif+KR&display=swap');
    </style>
    <script src="html5-qrcode.min.js"></script>
  </head>
  <body>
    <div class="game-title">
      <h1>QR코드로 채용에 지원하다</h1>
    </div>
    <div class="game-scene">
      <br><br>
    <div class="action">
      <div id="reader"></div>
      <input type="file" id="qr-input-file" accept="image/*"> <br /><br/>
<!--
  Or add captured if you only want to enable smartphone camera, PC browsers will ignore it.

      <input type="file" id="qr-input-file" accept="image/*" capture>

<!--
 * Scans an Image File for QR Code.
 *
 * This feature is mutually exclusive to camera based scanning, you should call
 * stop() if the camera based scanning was ongoing.
 *
 * @param {File} imageFile a local file with Image content.
 * @param {boolean} showImage if true the Image will be rendered on given element.
 *
 * @returns Promise with decoded QR code string on success and error message on failure.
 *            Failure could happen due to different reasons:
 *            1. QR Code decode failed because enough patterns not found in image.
 *            2. Input file was not image or unable to load the image or other image load
 *              errors.
*/
scanFile(imageFile, showImage /* default = true */) {} -->
      <button type="button" name="button" onclick="go();">돌아간다</button> 
   </div>
    
     <script type="text/javascript">
        function go(){
          location.replace("tutorial13.html");
        }
    </script>
 
<script>
  const html5QrCode = new Html5Qrcode(/* element id */ "reader");

// File based scanning
const fileinput = document.getElementById('qr-input-file');
fileinput.addEventListener('change', e => {
  if (e.target.files.length == 0) {
    // No file selected, ignore
    return;
  }

  // Use the first item in the list
  const imageFile = e.target.files[0];
  html5QrCode.scanFile(imageFile, /* showImage= */true)
  .then(qrCodeMessage => {
    // success, use qrCodeMessage
    const url = qrCodeMessage;
    location.href = url;
    console.log(qrCodeMessage);

  })
  .catch(err => {
    // failure, handle it.
    console.log(`Error scanning file. Reason: ${err}`)
  });
});
</script>
  </body>
</html>
